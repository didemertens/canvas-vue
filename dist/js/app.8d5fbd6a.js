(function(e){function t(t){for(var o,i,r=t[0],c=t[1],u=t[2],m=0,d=[];m<r.length;m++)i=r[m],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);l&&l(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(o=!1)}o&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},a={app:0},s=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0828":function(e,t,n){},"4ce2":function(e,t,n){"use strict";var o=n("0828"),a=n.n(o);a.a},5626:function(e,t,n){"use strict";var o=n("7624"),a=n.n(o);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=n("8c4f"),s=n("a65d"),i=n.n(s),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("AppHeader"),n("router-view")],1)},c=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui tabular menu"},[n("router-link",{staticClass:"item",class:{active:e.isHomeActive},attrs:{to:"/"},nativeOn:{click:function(t){return e.switchTabs("home")}}},[e._v(" Home ")]),n("router-link",{staticClass:"ui item",class:{active:e.isDayActive},attrs:{to:"/poemsoftheday"},nativeOn:{click:function(t){return e.switchTabs("day")}}},[e._v(" Poems about "+e._s(e.getDay)+" ")]),n("router-link",{staticClass:"ui item",class:{active:e.isRandomActive},attrs:{to:"/randompoem"},nativeOn:{click:function(t){return e.switchTabs("random")}}},[e._v(" Random poem ")]),n("router-link",{staticClass:"ui item",class:{active:e.isFavouritesActive},attrs:{to:"/favourites"},nativeOn:{click:function(t){return e.switchTabs("favourites")}}},[e._v(" Your favourites ")])],1)},l=[],m=n("5530"),d=n("2f62"),h={name:"AppHeader",data:function(){return{isHomeActive:!0,isDayActive:!1,isRandomActive:!1,isFavouritesActive:!1}},beforeMount:function(){this.setDay()},methods:Object(m["a"])({},Object(d["b"])(["setDay"]),{switchTabs:function(e){"home"===e?(this.isHomeActive=!0,this.isDayActive=!1,this.isRandomActive=!1,this.isFavouritesActive=!1):"day"===e?(this.isHomeActive=!1,this.isDayActive=!0,this.isRandomActive=!1,this.isFavouritesActive=!1):"random"===e?(this.isHomeActive=!1,this.isDayActive=!1,this.isRandomActive=!0,this.isFavouritesActive=!1):(this.isHomeActive=!1,this.isDayActive=!1,this.isRandomActive=!1,this.isFavouritesActive=!0)}}),computed:Object(d["c"])(["getDay","getSavedPoems"])},f=h,v=n("2877"),p=Object(v["a"])(f,u,l,!1,null,null,null),g=p.exports,b={name:"App",components:{AppHeader:g}},P=b,y=Object(v["a"])(P,r,c,!1,null,null,null),_=y.exports,O=(n("4de4"),n("ac1f"),n("841c"),n("99af"),n("96cf"),n("1da1")),S=n("bc3a"),C=n.n(S),j={getPoems:function(e){return Object(O["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.a.get("http://localhost:8080/poems/".concat(e.search,"/").concat(e.filter));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()}},A={loading:!0,searchedPoems:[],currentDay:null,savedPoems:JSON.parse(localStorage.getItem("savedPoems"))},w={getLoading:function(e){return e.loading},getDay:function(e){return e.currentDay},getSearchPoems:function(e){return e.searchedPoems},getSavedPoems:function(e){return e.savedPoems}},k={changeLoading:function(e){var t=e.commit;t("setLoading")},loadPoems:function(e,t){var n=e.commit;j.getPoems({search:t.search,filter:t.filter}).then((function(e){n("setPoems",e),n("setLoading")}))},loadRandomPoem:function(e,t){var n=e.commit;j.getPoems({search:t.search,filter:t.filter}).then((function(e){var t=e[Math.floor(Math.random()*e.length)];t?(n("setPoems",t),n("setLoading")):(n("setPoems",{title:"Not found. Try again!"}),n("setLoading"))}))},setDay:function(e){var t=e.commit;t("setDay")},savePoem:function(e,t){var n=e.commit;n("savePoem",t)},updateLocalStorage:function(){return localStorage.getItem("savedPoems")}},D={setLoading:function(e){e.loading=!e.loading},setPoems:function(e,t){e.searchedPoems=t},setDay:function(){var e=(new Date).getDay(),t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];A.currentDay=t[e]},savePoem:function(e,t){var n=localStorage.getItem("savedPoems");if(n){var o=JSON.parse(n);o.push(t),localStorage.setItem("savedPoems",JSON.stringify(o))}else localStorage.setItem("savedPoems",JSON.stringify([t]))}},L={state:A,getters:w,actions:k,mutations:D};o["a"].use(d["a"]);var x=new d["a"].Store({modules:{poems:L}}),I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-container"},[n("h1",[e._v("Search for a poem")]),n("div",{staticClass:"ui input"},[n("input",{attrs:{type:"text",placeholder:"Type here..."},on:{input:e.getInput}}),n("div",{staticClass:"ui animated button",on:{click:e.searchPoems}},[n("div",{staticClass:"visible content"},[e._v("Search")]),e._m(0)])]),n("dropdown",{attrs:{options:e.searchOptions,selected:e.defaultSearchFilter},on:{updateOption:e.filterSearch}}),e.getSearchPoems.length>0&&e.searching?n("div",e._l(e.getSearchPoems,(function(e){return n("PoemItem",{key:e.title,staticClass:"poem-container",style:e.linecount>50?{columnCount:3}:{columnCount:1},attrs:{poem:e}})})),1):e.searching?n("div",[n("h2",[e._v("No results")])]):e._e()],1)},R=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hidden content"},[n("i",{staticClass:"search icon"})])}],T=(n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"header"},[n("h3",[e._v(e._s(e.poem.title))]),n("i",{staticClass:"heart icon",on:{click:e.clickPoem}})]),n("h5",[e._v(e._s(e.poem.author))]),e._l(e.poem.lines,(function(t,o){return n("p",{key:o},[e._v(e._s(t))])}))],2)}),F=[],H={name:"PoemItem",props:["poem"],methods:Object(m["a"])({clickPoem:function(){this.savePoem(this.poem),this.$toasted.show("Poem saved to Your favourites!",{position:"top-center",duration:2e3,type:"success"})}},Object(d["b"])(["savePoem"]))},M=H,$=(n("4ce2"),Object(v["a"])(M,T,F,!1,null,"76e3778d",null)),E=$.exports,J=n("d869"),N={name:"SearchBar",components:{PoemItem:E,dropdown:J["a"]},data:function(){return{poems:[],searchTerm:null,searchFilter:"title",searchOptions:[{name:"Title"},{name:"Author"},{name:"Lines"}],defaultSearchFilter:{name:"Title"}}},created:function(){this.poems=[],this.searching=!1},methods:Object(m["a"])({filterSearch:function(e){this.searchFilter=e.name.toLowerCase()},searchPoems:function(){this.searchTerm&&(this.searching=!0,this.loadPoems({search:this.searchTerm,filter:this.searchFilter}),this.poems=this.getSearchPoems)},getInput:function(e){this.searchTerm=e.target.value}},Object(d["b"])(["loadPoems"])),computed:Object(d["c"])(["getSearchPoems","getLoading"])},W=N,Y=(n("7fb8"),Object(v["a"])(W,I,R,!1,null,"b2c20b14",null)),B=Y.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.getLoading?n("div",{staticClass:"ui active centered inline loader"}):n("div",e._l(e.getSearchPoems,(function(e){return n("PoemItem",{key:e.title,staticClass:"poem-container",style:e.linecount>50?{columnCount:3}:{columnCount:1},attrs:{poem:e}})})),1)])},z=[],G={name:"PoemDay",components:{PoemItem:E},data:function(){return{searchFilter:"lines",poems:[],loading:!0}},created:function(){this.loadPoems({search:this.getDay,filter:this.searchFilter}),this.poems=this.getSearchPoems,this.loading=this.getLoading},methods:Object(d["b"])(["loadPoems"]),computed:Object(d["c"])(["getDay","getSearchPoems","getLoading"])},K=G,Q=(n("fae8"),Object(v["a"])(K,q,z,!1,null,"f76c89c8",null)),U=Q.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-container"},[n("div",{staticClass:"header"},[n("h2",[e._v("Random poem about '"+e._s(e.randomWord)+"'")]),n("button",{staticClass:"ui button",on:{click:e.handleReset}},[e._v("Again")])]),e.getLoading?n("div",{staticClass:"ui active centered inline loader"}):n("div",[n("PoemItem",{key:e.getSearchPoems.title,staticClass:"poem-container",style:e.getSearchPoems.linecount>50?{columnCount:3}:{columnCount:1},attrs:{poem:e.getSearchPoems}})],1)])},X=[],Z=n("8ac1"),ee=n.n(Z),te={name:"RandomPoem",components:{PoemItem:E},data:function(){return{randomWord:ee()(),reset:!1}},beforeMount:function(){this.loadRandomPoem({search:this.randomWord,filter:"lines"})},methods:Object(m["a"])({handleReset:function(){this.changeLoading(),this.randomWord=ee()(),this.loadRandomPoem({search:this.randomWord,filter:"lines"})}},Object(d["b"])(["loadRandomPoem","changeLoading"])),computed:Object(d["c"])(["getSearchPoems","getLoading"])},ne=te,oe=(n("fcc6"),Object(v["a"])(ne,V,X,!1,null,"8502b134",null)),ae=oe.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.poems?n("div",[n("h2",[e._v("Your saved poems")]),e._l(e.poems,(function(e){return n("PoemItem",{key:e.title,staticClass:"poem-container",style:e.linecount>50?{columnCount:3}:{columnCount:1},attrs:{poem:e}})}))],2):n("div",[n("h2",[e._v("Click on the heart next to a poem to save it!")])])])},ie=[],re={name:"SavedPoems",components:{PoemItem:E},data:function(){return{poems:[]}},beforeMount:function(){this.poems=JSON.parse(localStorage.getItem("savedPoems"))}},ce=re,ue=(n("5626"),Object(v["a"])(ce,se,ie,!1,null,"1954f8e1",null)),le=ue.exports;o["a"].use(a["a"]),o["a"].use(i.a,s["Options"]);var me=new a["a"]({mode:"history",routes:[{path:"/",component:B},{path:"/poemsoftheday",component:U},{path:"/randompoem",component:ae},{path:"/favourites",component:le}]});new o["a"]({router:me,store:x,render:function(e){return e(_)}}).$mount("#app")},6642:function(e,t,n){},7624:function(e,t,n){},"7fb8":function(e,t,n){"use strict";var o=n("b47d"),a=n.n(o);a.a},b47d:function(e,t,n){},bd62:function(e,t,n){},fae8:function(e,t,n){"use strict";var o=n("6642"),a=n.n(o);a.a},fcc6:function(e,t,n){"use strict";var o=n("bd62"),a=n.n(o);a.a}});
//# sourceMappingURL=app.8d5fbd6a.js.map